// 小說列表資料
const novelListData = [
    {
        title: '《輪迴之夢》',
        chapters: [
            { href: 'novel1.html', title: '1.迷失在黑暗中' },
            { href: 'novel2.html', title: '2.黑暗中的低語' },
            { href: 'novel3.html', title: '3.自我的崩潰' },
            { href: 'novel4.html', title: '4.黑暗中的折磨' },
            { href: 'novel5.html', title: '5.無盡的迴圈' },
            { href: 'novel6.html', title: '6.夢魘的降臨' },
            { href: 'novel7.html', title: '7.破碎的初始' },
            { href: 'novel8.html', title: '8.命運的對話' },
            { href: 'novel9.html', title: '9.永恆的守護' },
        ]
    },
    {
        title: '《覺醒之夢》',
        chapters: [
            { href: 'novel10.html', title: '10.逐漸回復的日常' },
            { href: 'novel11.html', title: '11.突然的來訪' },
            { href: 'novel12.html', title: '12.萬人迷的誕生' },
            { href: 'novel13.html', title: '13.關係的揣測' },
            { href: 'novel14.html', title: '14.霸凌' },
            { href: 'novel15.html', title: '15.奇怪的記憶' },
            { href: 'novel16.html', title: '16.曾經的夢' },
            { href: 'novel17.html', title: '17.不對勁' },
            { href: 'novel18.html', title: '18.遺忘的羈絆' },
        ]
    },
    {
        title: '《無盡之夢》',
        chapters: [
            { href: 'novel19.html', title: '19.朋友' },
            { href: 'novel20.html', title: '20.分歧' },
            { href: 'novel21.html', title: '21.無可避免的對峙' },
            { href: 'novel22.html', title: '22.悔恨的獨白' },
            { href: 'novel23.html', title: '23.重疊的夢境' },
            { href: 'novel24.html', title: '24.隱藏的細節' },
            { href: 'novel25.html', title: '25.故意的真相' },
            { href: 'novel26.html', title: '26.無法忽視的證據' },
            { href: 'novel27.html', title: '27.消失的夢魘' },
        ]
    },
    {
        title: '《破曉之夢》',
        chapters: [
            { href: 'novel28.html', title: '28.一年後的夢' },
            { href: 'novel29.html', title: '29.突如其來的輪迴' },
            { href: 'novel30.html', title: '30.微光的指引' },
            { href: 'novel31.html', title: '31.數字之謎' },
            { href: 'novel32.html', title: '32.久別的重逢' },
            { href: 'novel33.html', title: '33.回溯的真相' },
            { href: 'novel34.html', title: '34.暗藏危機的歡聚' },
            { href: 'novel35.html', title: '35.偽造的死亡' },
            { href: 'novel36.html', title: '36.鎖鏈與鑰匙' },
        ]
    },
    {
        title: '《終結之夢》',
        chapters: [
            { href: 'novel37.html', title: '37.再見與發現' },
            { href: 'novel38.html', title: '38.日記的啟示' },
            { href: 'novel39.html', title: '39.日記的探討' },
            { href: 'novel40.html', title: '40.艾利亞的歸來' },
            { href: 'novel41.html', title: '41.全新的身份' },
            { href: 'novel42.html', title: '42.妹妹的再臨' },
            { href: 'novel43.html', title: '43.擁抱與變化' },
            { href: 'novel44.html', title: '44.風波再起' },
            { href: 'novel45.html', title: '45.揭開疑問' },
            { href: 'novel46.html', title: '46.盟誓與永恆' },
        ]
    },
    {
        title: '《甜蜜之夢》',
        chapters: [
            { href: 'extra1.html', title: '番外1.在家裡的「兄妹日常」' },
            { href: 'extra2.html', title: '番外2.在夜市的「意外約會」' },
            { href: 'extra3.html', title: '番外3.月光下的晚安' },
            { href: 'extra4.html', title: '番外4.操場邊的秘密戀人' },
            { href: 'extra5.html', title: '番外5.艾利亞與謙的推理比賽，智商超人也招架不住的「情侶暴擊」' },
            { href: 'extra6.html', title: '番外6.愛的反擊戰' },
            { href: 'extra7.html', title: '番外7.情書風波與公開告白' },
            { href: 'extra8.html', title: '番外8.夢的盡頭是光' },
            { href: 'extra9.html', title: '番外9.在夢中重建的未來' },
            { href: 'extra10.html', title: '番外10.你早就是我的英雄' },
        ]
    },
    {
        title: '《月光下的秘密》',
        chapters: [
            { href: 'extra11.html', title: '番外11.月光下的秘密' },
            { href: 'extra12.html', title: '番外12.下一晚的悸動' },
            { href: 'extra13.html', title: '番外13.陽翔的主動' },
            { href: 'extra14.html', title: '番外14.夢中約會' },
            { href: 'extra15.html', title: '番外15.見父母的討論' },
            { href: 'extra16.html', title: '番外16.艾利亞見家長' },
            { href: 'extra17.html', title: '番外17.新家的秘密' },
            { href: 'extra18.html', title: '番外18.雙重稱呼' },
            { href: 'extra19.html', title: '番外19.為你準備的驚喜' },
            { href: 'extra20.html', title: '番外20.水晶的救贖' },
            { href: 'extra21.html', title: '番外21.心有靈犀的夜晚' },
            { href: 'extra22.html', title: '番外22.夢魘之力的秘密' },
            { href: 'extra23.html', title: '番外23.名字與孤獨的過去' },
        ]
    },
    {
        title: '《彼岸之夢》',
        chapters: [
            { href: 'novel47.html', title: '47.靈魂的過去與現在' },
            { href: 'novel48.html', title: '48.陷入深淵' },
            { href: 'novel49.html', title: '49.幕後的操控者' },
            { href: 'novel50.html', title: '50.絕望的代價' },
            { href: 'novel51.html', title: '51.壓迫與孤獨的回聲' },
            { href: 'novel52.html', title: '52.暗夜中的夢境審判' },
            { href: 'novel53.html', title: '53.雙重虛弱與漸行漸遠的信任' },
            { href: 'novel54.html', title: '54.遲來的真相' },
            { href: 'novel55.html', title: '55.失落之地的啟示' },
            { href: 'novel56.html', title: '56.改變命運的按鈕' },
            { href: 'novel57.html', title: '57.靈魂的交織' },
        ]
    }
];

// 將小說列表插入到 #novel-list-container 元素中
function insertNovelList() {
    const novelListContainer = document.getElementById('novel-list-container');
    if (novelListContainer) {
        let html = '<ul id="chapter-list">';
        novelListData.forEach(category => {
            html += `<li><strong>${category.title}</strong></li>`; // 類別標題
            category.chapters.forEach(chapter => {
                html += `<li><a href="${chapter.href}" data-title="${chapter.title}">${chapter.title}</a></li>`;
            });
        });
        html += '</ul>';
        novelListContainer.innerHTML = html;

        // 在插入列表後，高亮顯示目前讀取的篇章
        const chapterLinks = novelListContainer.querySelectorAll('#chapter-list a');
        chapterLinks.forEach(link => {
            if (link.href === window.location.href) {
                link.classList.add('active');
            }
        });
    } else {
        console.error('找不到 #novel-list-container 元素');
    }
}

// 在網頁載入完成後呼叫 insertNovelList()
window.addEventListener('load', () => {
    insertNovelList(); // 插入小說列表
});
